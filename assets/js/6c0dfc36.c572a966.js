"use strict";(self.webpackChunkpworks_docs=self.webpackChunkpworks_docs||[]).push([[771],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return f}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),u=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(a),m=r,f=c["".concat(i,".").concat(m)]||c[m]||p[m]||s;return a?n.createElement(f,o(o({ref:t},d),{},{components:a})):n.createElement(f,o({ref:t},d))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var u=2;u<s;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5204:function(e,t,a){a.r(t),a.d(t,{assets:function(){return i},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var n=a(3117),r=(a(7294),a(3905));const s={sidebar_position:2},o="Transferring Data to/from AWS S3 Storage",l={unversionedId:"transferring-data/transferring-data-aws",id:"transferring-data/transferring-data-aws",title:"Transferring Data to/from AWS S3 Storage",description:"Working With AWS CLI",source:"@site/docs/transferring-data/transferring-data-aws.md",sourceDirName:"transferring-data",slug:"/transferring-data/transferring-data-aws",permalink:"/transferring-data/transferring-data-aws",draft:!1,editUrl:"https://github.com/parallelworks/docs/tree/master/docs/transferring-data/transferring-data-aws.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Submitting Jobs",permalink:"/interacting-with-clusters/submitting-jobs"},next:{title:"Getting Support",permalink:"/getting-support"}},i={},u=[{value:"Working With AWS CLI",id:"working-with-aws-cli",level:2},{value:"Check for AWS CLI",id:"check-for-aws-cli",level:3},{value:"Install AWS CLI",id:"install-aws-cli",level:3},{value:"Transferring Your Data",id:"transferring-your-data",level:2},{value:"Export Your AWS Credentials",id:"export-your-aws-credentials",level:3},{value:"Validate Your AWS Credentials",id:"validate-your-aws-credentials",level:3},{value:"List Files in S3",id:"list-files-in-s3",level:3},{value:"Transfer a File From S3",id:"transfer-a-file-from-s3",level:3},{value:"Transfer a File to S3",id:"transfer-a-file-to-s3",level:3},{value:"Delete a File From S3",id:"delete-a-file-from-s3",level:3}],d={toc:u};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"transferring-data-tofrom-aws-s3-storage"},"Transferring Data to/from AWS S3 Storage"),(0,r.kt)("h2",{id:"working-with-aws-cli"},"Working With AWS CLI"),(0,r.kt)("p",null,"To transfer data to/from S3 bucket storage, you\u2019ll use the AWS Command Line Interface (CLI)."),(0,r.kt)("p",null,"Because the AWS CLI is pre-installed on AWS clusters in the PW platform, you can enter commands directly into the IDE after logging in to the controller of an active AWS cluster. "),(0,r.kt)("p",null,"If you\u2019re transferring data between S3 buckets and a folder, an on-premise cluster, or a remote device, you\u2019ll likely need to install the AWS CLI first."),(0,r.kt)("h3",{id:"check-for-aws-cli"},"Check for AWS CLI"),(0,r.kt)("p",null,"Open a terminal or command line and navigate to your data\u2019s destination. Enter ",(0,r.kt)("inlineCode",{parentName:"p"},"which aws"),". "),(0,r.kt)("p",null,"If the AWS CLI is installed, you\u2019ll see a message that shows its location, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"/usr/local/bin/aws"),". "),(0,r.kt)("p",null,"If the AWS CLI is not installed, you\u2019ll see a message such as ",(0,r.kt)("inlineCode",{parentName:"p"},"/usr/bin/which: no aws")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"aws not found"),"."),(0,r.kt)("h3",{id:"install-aws-cli"},"Install AWS CLI"),(0,r.kt)("p",null," If you need to install the AWS CLI, we recommend following ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html"},"the AWS installation guide"),", which includes OS-specific instructions for Linux, macOS, and Windows as well as troubleshooting tips. "),(0,r.kt)("h2",{id:"transferring-your-data"},"Transferring Your Data"),(0,r.kt)("h3",{id:"export-your-aws-credentials"},"Export Your AWS Credentials"),(0,r.kt)("p",null,"In your terminal, enter ",(0,r.kt)("inlineCode",{parentName:"p"},'export AWS_ACCESS_KEY_ID="_____"')," with your AWS access key ID in the blank space. "),(0,r.kt)("p",null,"Enter ",(0,r.kt)("inlineCode",{parentName:"p"},'export AWS_SECRET_ACCESS_KEY="_____"')," with your AWS access key ID in the blank space. "),(0,r.kt)("admonition",{title:"Note",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Please be sure to include the quotation marks on both ends of your key IDs. There are characters inside AWS key IDs that, without quotation marks, systems will try to read as commands. ")),(0,r.kt)("h3",{id:"validate-your-aws-credentials"},"Validate Your AWS Credentials"),(0,r.kt)("p",null,"In your terminal, enter ",(0,r.kt)("inlineCode",{parentName:"p"},"aws sts get-caller-identity")," to check that the system correctly registered your AWS credentials. "),(0,r.kt)("p",null,"If your login was successful, you\u2019ll see your AWS UserID, Account, and ARN: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'{\n    "UserId": "ABCD1E2FG3H4IJKLMNOPQ",\n    "Account": "012345678901",\n    "Arn": "arn:aws:iam:: 012345678901:user/Admin"\n}\n')),(0,r.kt)("p",null,"If your login was not successful, enter your AWS access keys again with the ",(0,r.kt)("inlineCode",{parentName:"p"},"export")," commands above. "),(0,r.kt)("p",null,"You can also configure your login credentials manually with ",(0,r.kt)("inlineCode",{parentName:"p"},"aws configure"),". For more information about that process, see the AWS documentation on ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html"},"environment variables")," and ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html"},"configuration files"),". "),(0,r.kt)("h3",{id:"list-files-in-s3"},"List Files in S3"),(0,r.kt)("p",null,"In your terminal, enter ",(0,r.kt)("inlineCode",{parentName:"p"},"aws s3 ls s3://bucket_name")," to display the files in your bucket. For this guide, we used a small text file named ",(0,r.kt)("inlineCode",{parentName:"p"},"test.txt"),", so our command returned this message: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"demo@pw-user-demo:~/pw/cloud-data-transfer$ aws s3 ls s3://cloud-data-test\n2023-02-08 16:37:56         28 test.txt\n")),(0,r.kt)("h3",{id:"transfer-a-file-from-s3"},"Transfer a File From S3"),(0,r.kt)("p",null,"In your terminal, enter ",(0,r.kt)("inlineCode",{parentName:"p"},"aws s3 cp s3://bucket_name/file_name ./")," to download a file from S3 storage to your current directory. You\u2019ll see this message:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"demo@pw-user-demo:~/pw/cloud-data-transfer$ aws s3 cp s3://cloud-data-test/test.txt ./\ndownload: s3://cloud-data-test/test.txt to ./test.txt            \n")),(0,r.kt)("p",null,"To download a file from S3 storage to a specific directory, enter its name after ",(0,r.kt)("inlineCode",{parentName:"p"},"./")," with the ",(0,r.kt)("inlineCode",{parentName:"p"},"aws s3 cp")," command. We used the ",(0,r.kt)("inlineCode",{parentName:"p"},"storage")," directory in this example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"demo@pw-user-demo:~/pw/cloud-data-transfer$ aws s3 cp s3://cloud-data-test/test.txt ./storage\ndownload: s3://cloud-data-test/test.txt to ./storage              \n")),(0,r.kt)("h3",{id:"transfer-a-file-to-s3"},"Transfer a File to S3"),(0,r.kt)("p",null,"In your terminal, enter ",(0,r.kt)("inlineCode",{parentName:"p"},"aws s3 cp file_name s3://bucket_name/")," to transfer a file to your S3 bucket. You'll see this message:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"demo@pw-user-demo:~/pw/cloud-data-transfer$ aws s3 cp test_upload.txt s3://cloud-data-test/\nupload: ./test_upload.txt to s3://cloud-data-test/test_upload.txt\n")),(0,r.kt)("p",null,"You can check your S3 files with ",(0,r.kt)("inlineCode",{parentName:"p"},"aws s3 ls s3://bucket_name"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"demo@pw-user-demo:~/pw/cloud-data-transfer$ aws s3 ls s3://cloud-data-test/\n2023-02-08 16:37:56         28 test.txt\n2023-02-08 17:19:24         28 test_upload.txt\n")),(0,r.kt)("h3",{id:"delete-a-file-from-s3"},"Delete a File From S3"),(0,r.kt)("p",null,"In your terminal, enter ",(0,r.kt)("inlineCode",{parentName:"p"},"aws s3 rm s3://bucket_name/file_name")," to delete a file. You\u2019ll see this message: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"demo@pw-user-demo:~/pw/cloud-data-transfer$ aws s3 rm s3://cloud-data-test/test_upload.txt\ndelete: s3://cloud-data-test/test_upload.txt\n")),(0,r.kt)("p",null,"You can check your S3 files with ",(0,r.kt)("inlineCode",{parentName:"p"},"aws s3 ls s3://bucket_name"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"demo@pw-user-demo:~/pw/cloud-data-transfer$ aws s3 ls s3://cloud-data-test/\n2023-02-08 16:37:56         28 test.txt\n")))}c.isMDXComponent=!0}}]);