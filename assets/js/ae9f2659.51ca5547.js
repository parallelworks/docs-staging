"use strict";(self.webpackChunkpworks_docs=self.webpackChunkpworks_docs||[]).push([[578],{3905:function(e,t,o){o.d(t,{Zo:function(){return c},kt:function(){return f}});var i=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,i,n=function(e,t){if(null==e)return{};var o,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=i.createContext({}),u=function(e){var t=i.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},c=function(e){var t=u(e.components);return i.createElement(s.Provider,{value:t},e.children)},g="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),g=u(o),p=n,f=g["".concat(s,".").concat(p)]||g[p]||h[p]||r;return o?i.createElement(f,a(a({ref:t},c),{},{components:o})):i.createElement(f,a({ref:t},c))}));function f(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,a=new Array(r);a[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[g]="string"==typeof e?e:n,a[1]=l;for(var u=2;u<r;u++)a[u]=o[u];return i.createElement.apply(null,a)}return i.createElement.apply(null,o)}p.displayName="MDXCreateElement"},2969:function(e,t,o){var i=o(7294);t.Z=e=>{let{children:t,color:o}=e;return i.createElement("span",{style:{backgroundColor:o,borderRadius:"25px",color:"#fff",padding:".65rem"}},t)}},7487:function(e,t,o){o.r(t),o.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return c}});var i=o(3117),n=(o(7294),o(3905)),r=o(2969);const a={sidebar_position:4,label:"Configuring Clusters"},l="Configuring Clusters",s={unversionedId:"configuring-clusters",id:"configuring-clusters",title:"Configuring Clusters",description:"Most users on the PW platform will work exclusively with elastic clusters. These clusters are made up of a controller node and compute nodes, with the controller delegating tasks to the compute nodes.",source:"@site/docs/configuring-clusters.md",sourceDirName:".",slug:"/configuring-clusters",permalink:"/configuring-clusters",draft:!1,editUrl:"https://github.com/parallelworks/docs/tree/master/docs/configuring-clusters.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,label:"Configuring Clusters"},sidebar:"docsSidebar",previous:{title:"Creating Clusters",permalink:"/creating-clusters"},next:{title:"Starting and Stopping Clusters",permalink:"/starting-stopping-clusters"}},u={},c=[{value:"Accessing Configuration Settings",id:"accessing-configuration-settings",level:2},{value:"About the Resource Configuration Page",id:"about-the-resource-configuration-page",level:2},{value:"Definition",id:"definition",level:3},{value:"&gt;_ Code",id:"_-code",level:3},{value:"Properties",id:"properties",level:3},{value:"Sharing",id:"sharing",level:3},{value:"Global Resource Settings",id:"global-resource-settings",level:2},{value:'<Highlight color="#ff5800">Resource Type</Highlight>',id:"resource-type",level:4},{value:'<Highlight color="#ff5800">Resource Account</Highlight>',id:"resource-account",level:4},{value:'<Highlight color="#ff5800">Multi-Factor</Highlight>',id:"multi-factor",level:4},{value:'<Highlight color="#ff5800">Jump Node</Highlight>',id:"jump-node",level:4},{value:'<Highlight color="#ff5800">Project</Highlight>',id:"project",level:4},{value:'<Highlight color="#ff5800">Multi-User</Highlight>',id:"multi-user",level:4},{value:'<Highlight color="#ff5800">Mount Directory</Highlight>',id:"mount-directory",level:4},{value:'<Highlight color="#ff5800">Access Public Key</Highlight>',id:"access-public-key",level:4},{value:'<Highlight color="#ff5800">User Bootstrap</Highlight>',id:"user-bootstrap",level:4},{value:'<Highlight color="#ff5800">Health Checks</Highlight>',id:"health-checks",level:4},{value:'<Highlight color="#ff5800">Restore Configuration</Highlight>',id:"restore-configuration",level:4},{value:"Scheduler Settings",id:"scheduler-settings",level:2},{value:'<Highlight color="#ff5800">Region</Highlight>',id:"region",level:4},{value:'<Highlight color="#ff5800">Zone</Highlight>',id:"zone",level:4},{value:'<Highlight color="#ff5800">Controller Instance Type</Highlight>',id:"controller-instance-type",level:4},{value:'<Highlight color="#ff5800">Controller Image</Highlight>',id:"controller-image",level:4},{value:'<Highlight color="#ff5800">Image Disk Name (fixed)</Highlight>',id:"image-disk-name-fixed",level:4},{value:'<Highlight color="#ff5800">Image Disk Count</Highlight>',id:"image-disk-count",level:4},{value:'<Highlight color="#ff5800">Image Disk Size GB</Highlight>',id:"image-disk-size-gb",level:4},{value:"Partition Settings",id:"partition-settings",level:2},{value:'<Highlight color="#ff5800">Name</Highlight>',id:"name",level:4},{value:'<Highlight color="#ff5800">Instance Type</Highlight>',id:"instance-type",level:4},{value:'<Highlight color="#ff5800">Max Node Count</Highlight>',id:"max-node-count",level:4},{value:'<Highlight color="#ff5800">Default</Highlight>',id:"default",level:4},{value:'<Highlight color="#ff5800">Enable Spot</Highlight>',id:"enable-spot",level:4},{value:'<Highlight color="#ff5800">Elastic Image</Highlight>',id:"elastic-image",level:4},{value:'<Highlight color="#ff5800">Zone</Highlight>',id:"zone-1",level:4},{value:"CSP-Specific Settings",id:"csp-specific-settings",level:2},{value:"AWS",id:"aws",level:3},{value:'<Highlight color="#ff5800">EFA</Highlight>',id:"efa",level:4},{value:"Google",id:"google",level:3},{value:'<Highlight color="#ff5800">GVNIC</Highlight>',id:"gvnic",level:4},{value:'<Highlight color="#ff5800">TIER_1</Highlight>',id:"tier_1",level:4},{value:'<Highlight color="#ff5800">Migrate On Maintenance</Highlight>',id:"migrate-on-maintenance",level:4},{value:"Azure",id:"azure",level:3},{value:'<Highlight color="#ff5800">Export Filesystem</Highlight>',id:"export-filesystem",level:4},{value:'<Highlight color="#ff5800">NFS Size</Highlight>',id:"nfs-size",level:4},{value:'<Highlight color="#ff5800">Enable Accelerated Networking</Highlight>',id:"enable-accelerated-networking",level:4},{value:"Existing Cluster Settings",id:"existing-cluster-settings",level:2},{value:'<Highlight color="#ff5800">Username</Highlight>',id:"username",level:4},{value:'<Highlight color="#ff5800">Cluster Login Node</Highlight>',id:"cluster-login-node",level:4},{value:'<Highlight color="#ff5800">Working Directory</Highlight>',id:"working-directory",level:4},{value:'<Highlight color="#ff5800">Max Workers</Highlight>',id:"max-workers",level:4},{value:'<Highlight color="#ff5800">Internal IP/Network Name (optional)</Highlight>',id:"internal-ipnetwork-name-optional",level:4},{value:'<Highlight color="#ff5800">Scheduler Type</Highlight>',id:"scheduler-type",level:4},{value:"Default Configuration",id:"default-configuration",level:2}],g={toc:c};function h(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"configuring-clusters"},"Configuring Clusters"),(0,n.kt)("p",null,"Most users on the PW platform will work exclusively with elastic clusters. These clusters are made up of a controller node and compute nodes, with the controller delegating tasks to the compute nodes."),(0,n.kt)("p",null,"Clusters have several adjustable parameters for both controller nodes and compute nodes, such as compute instance types and node count. Additionally, compute nodes are grouped together in partitions, which have their own settings. For more information, see ",(0,n.kt)("a",{parentName:"p",href:"/configuring-clusters#partition-settings"},(0,n.kt)("strong",{parentName:"a"},"Partition Settings"))," below."),(0,n.kt)("p",null,"The PW platform also supports an optional parallel file system, Lustre. For more information on setting up Lustre for your account, see ",(0,n.kt)("strong",{parentName:"p"},"Storage")," (coming soon)."),(0,n.kt)("h2",{id:"accessing-configuration-settings"},"Accessing Configuration Settings"),(0,n.kt)("p",null,"You can access a resource\u2019s configuration settings from the ",(0,n.kt)("strong",{parentName:"p"},"Compute")," tab. Navigate to the ",(0,n.kt)("strong",{parentName:"p"},"Computing Resources")," box and click the gear icon ",(0,n.kt)("img",{alt:"Docusaurus themed image",src:o(5389).Z+"#gh-light-mode-only",width:"16",height:"14"}),(0,n.kt)("img",{alt:"Docusaurus themed image",src:o(4797).Z+"#gh-dark-mode-only",width:"16",height:"14"})," for the resource you want to configure."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_1_feb23.png",src:o(7785).Z,width:"2978",height:"898"})),(0,n.kt)("p",null,"Alternatively, you can navigate to the ",(0,n.kt)("strong",{parentName:"p"},"Resources")," tab and click the name of the resource you want to configure."),(0,n.kt)("h2",{id:"about-the-resource-configuration-page"},"About the Resource Configuration Page"),(0,n.kt)("p",null,"When you navigate to a cluster's configuration settings, there are four tabs for customization."),(0,n.kt)("h3",{id:"definition"},"Definition"),(0,n.kt)("p",null,"By default, you\u2019ll see the ",(0,n.kt)("strong",{parentName:"p"},"Definition")," tab when you navigate to configuration settings. Here, you can adjust your cluster's parameters. For more information, see ",(0,n.kt)("a",{parentName:"p",href:"/configuring-clusters/#global-resource-settings"},(0,n.kt)("strong",{parentName:"a"},"Global Resource Settings"))," below."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_2_feb23.png",src:o(6944).Z,width:"2248",height:"1048"})),(0,n.kt)("h3",{id:"_-code"},">","_"," Code"),(0,n.kt)("p",null,"This tab shows the code version of your resource\u2019s configuration settings. Here, you can manually adjust the parameters seen in the ",(0,n.kt)("strong",{parentName:"p"},"Definition")," tab."),(0,n.kt)("p",null,"If you have Lustre enabled, you\u2019ll see the code version of your Lustre settings in a separate space beneath ",(0,n.kt)("strong",{parentName:"p"},"Slurm Configuration"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_3_feb23.png",src:o(7267).Z,width:"2268",height:"1198"})),(0,n.kt)("h3",{id:"properties"},"Properties"),(0,n.kt)("p",null,"This tab shows the name, display name, description, and tags that were entered when the resource was created. Here, you can adjust those settings and upload a new thumbnail for the cluster."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_4_feb23.png",src:o(7513).Z,width:"2266",height:"990"})),(0,n.kt)("h3",{id:"sharing"},"Sharing"),(0,n.kt)("p",null,"This tab lets you share your resource with other users in your organization who are assigned to the same project."),(0,n.kt)("p",null,"Please note that your project name(s) will be specific to your organization. For more information, see ",(0,n.kt)("a",{parentName:"p",href:"/configuring-clusters/#project"},(0,n.kt)("strong",{parentName:"a"},"Project"))," below."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_5_feb23.png",src:o(1303).Z,width:"2266",height:"792"})),(0,n.kt)("h2",{id:"global-resource-settings"},"Global Resource Settings"),(0,n.kt)("p",null,"Clusters will typically have these settings in the ",(0,n.kt)("strong",{parentName:"p"},"Definition")," tab of the configuration page. Some settings will differ depending on which type of resource you\u2019re using. For more information, see ",(0,n.kt)("a",{parentName:"p",href:"/configuring-clusters/#csp-specific-settings"},(0,n.kt)("strong",{parentName:"a"},"CSP-Specific Settings"))," below."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_6_feb23.png",src:o(8520).Z,width:"2454",height:"1884"})),(0,n.kt)("h4",{id:"resource-type"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Resource Type")),(0,n.kt)("p",null,"Use this dropdown menu to change the type of resource you\u2019re using. By default, this menu will show the type of resource that was selected when the cluster was created."),(0,n.kt)("h4",{id:"resource-account"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Resource Account")),(0,n.kt)("p",null,"Use this dropdown menu to select the account that your organization uses for a specific cloud service provider."),(0,n.kt)("p",null,"By default, this menu will show the resource account that your organization has selected for that type of cluster (for example, the screenshot above shows a Google cluster, and ",(0,n.kt)("strong",{parentName:"p"},"Resource Account")," was automatically populated with the ",(0,n.kt)("em",{parentName:"p"},"Pworks GCP")," account)."),(0,n.kt)("h4",{id:"multi-factor"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Multi-Factor")),(0,n.kt)("p",null,"Use this toggle button if you\u2019re connecting to a cluster that has multi-factor authentication (MFA) enabled. When you turn on the resource and MFA is eanbled, a dialog box will appear, prompting you to enter your MFA code."),(0,n.kt)("p",null,"Please note that only existing on-premise clusters use this feature. If your organization has MFA enabled for cloud clusters, you\u2019ll be asked to authenticate your credentials when you log in to the PW platform."),(0,n.kt)("h4",{id:"jump-node"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Jump Node")),(0,n.kt)("p",null,"Use this toggle button if you\u2019re connecting to a cluster that has a jump node enabled. A jump node\u2014also called a host node, bastion node, or login node\u2014is a high-security server that allows a user to access a private machine or network."),(0,n.kt)("p",null,"If you enable this feature, two new fields will appear for ",(0,n.kt)("strong",{parentName:"p"},"Jump Node User")," and ",(0,n.kt)("strong",{parentName:"p"},"Jump Node Host"),". Your organization will have these credentials if you need them."),(0,n.kt)("p",null,"Please note that only existing on-premise clusters use this feature."),(0,n.kt)("h4",{id:"project"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Project")),(0,n.kt)("p",null,"Use this dropdown menu to select the project name that your organization uses to allocate costs. This menu is especially important if your organization is running multiple projects simultaneously."),(0,n.kt)("p",null,"If you\u2019re not sure which project to select, you can contact us or your organization\u2019s PW platform administrator."),(0,n.kt)("h4",{id:"multi-user"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Multi-User")),(0,n.kt)("p",null,"Use this toggle button to automatically create a home directory for all users in the selected project."),(0,n.kt)("p",null,"This option is different from the ",(0,n.kt)("strong",{parentName:"p"},"Sharing")," tab, which allows sharing the resource definition with other users in your organization."),(0,n.kt)("h4",{id:"mount-directory"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Mount Directory")),(0,n.kt)("p",null,"Use this toggle button to automatically mount a new folder for your active cluster under the ",(0,n.kt)("inlineCode",{parentName:"p"},"~/pw/clusters")," folder in your user workspace."),(0,n.kt)("p",null,"If you enable this feature, a new field will appear for ",(0,n.kt)("strong",{parentName:"p"},"Directory"),", which will be set to ",(0,n.kt)("inlineCode",{parentName:"p"},"~/")," by default. This is the remote directory that will be mounted to your user workspace."),(0,n.kt)("h4",{id:"access-public-key"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Access Public Key")),(0,n.kt)("p",null,"Use this box to add an SSH key so you can access the cluster from a remote device, like your local laptop."),(0,n.kt)("p",null,"Please note that keys must be in OpenSSH format and you should only enter a public key, not a private key."),(0,n.kt)("p",null,"For more information on how to use a public key, see ",(0,n.kt)("a",{parentName:"p",href:"https://docs.parallel.works/interacting-with-clusters/logging-in-controller"},(0,n.kt)("strong",{parentName:"a"},"Logging In to the Controller."))),(0,n.kt)("h4",{id:"user-bootstrap"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"User Bootstrap")),(0,n.kt)("p",null,"Use this box to set a script that executes once a controller node has started. For example, you can set files to automatically move into a specific folder."),(0,n.kt)("h4",{id:"health-checks"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Health Checks")),(0,n.kt)("p",null,"Use this box to set a script that runs a health check on a controller node. When the script is done running, you\u2019ll see any error codes in red or an exit code of ",(0,n.kt)("inlineCode",{parentName:"p"},"0")," in green if there are no errors."),(0,n.kt)("p",null,"For more information, see ",(0,n.kt)("strong",{parentName:"p"},"Health Checks")," (coming soon)."),(0,n.kt)("h4",{id:"restore-configuration"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Restore Configuration")),(0,n.kt)("p",null,"Use this button to populate the resource settings with default presets. For more information on why you might use default presets, see ",(0,n.kt)("a",{parentName:"p",href:"/configuring-clusters/#default-configuration"},(0,n.kt)("strong",{parentName:"a"},"Default Configuration"))," below."),(0,n.kt)("h2",{id:"scheduler-settings"},"Scheduler Settings"),(0,n.kt)("p",null,"These settings define the configuration for the controller and compute nodes, such as region, instance type, and OS image."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_7_feb23.png",src:o(6305).Z,width:"2142",height:"1243"})),(0,n.kt)("h4",{id:"region"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Region")),(0,n.kt)("p",null,"Use this dropdown menu to select the region that your cluster will deploy computing resources into."),(0,n.kt)("p",null,"A region represents a geographic area."),(0,n.kt)("h4",{id:"zone"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Zone")),(0,n.kt)("p",null,"Use this dropdown menu to select the zone to use for the controller."),(0,n.kt)("p",null,"A zone refers to a an isolated location inside a region."),(0,n.kt)("admonition",{title:"Note",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Azure clusters do not have a ",(0,n.kt)("strong",{parentName:"p"},"Zone")," menu.")),(0,n.kt)("h4",{id:"controller-instance-type"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Controller Instance Type")),(0,n.kt)("p",null,"Use this dropdown menu to select the instance type of the controller. The instance type determines the CPUs and amount of memory available on the machine. Certain instance types may also have specialty hardware, such as GPUs or low-latency networking options."),(0,n.kt)("h4",{id:"controller-image"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Controller Image")),(0,n.kt)("p",null,"Use this dropdown menu to select the operating system image for the cluster's controller node. We recommend using the latest version because this will ensure you have the most up-to-date software on your cluster; the latest image version includes OS updates and software required to connect to the PW platform."),(0,n.kt)("h4",{id:"image-disk-name-fixed"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Image Disk Name (fixed)")),(0,n.kt)("p",null,"If your organization uses a snapshot of a disk, this field will identify that snapshot."),(0,n.kt)("p",null,"For example, your organization may have specific applications that users need to complete their work. Your administrator may create a snapshot of a disk to make those apps available to users whenever a cluster starts, and the name of that snapshot would be in ",(0,n.kt)("strong",{parentName:"p"},"Image Disk Name"),"."),(0,n.kt)("p",null,"Please note that if you make any changes to this directory while on the cluster, those changes will be lost when you turn the cluster off. Your changes will not affect the snapshot, or other users\u2019 work."),(0,n.kt)("h4",{id:"image-disk-count"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Image Disk Count")),(0,n.kt)("p",null,"Use this field to enter the number of image disks you\u2019ll need for the cluster. Typically, you\u2019ll either enter ",(0,n.kt)("inlineCode",{parentName:"p"},"1")," if you need the directory from ",(0,n.kt)("strong",{parentName:"p"},"Image Disk Name")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"0")," if you would like to disable the image disk."),(0,n.kt)("h4",{id:"image-disk-size-gb"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Image Disk Size GB")),(0,n.kt)("p",null,"Use this field to enter the amount of storage on your image disk. The size depends on the size of the snapshot, and should be provided by your administrator."),(0,n.kt)("h2",{id:"partition-settings"},"Partition Settings"),(0,n.kt)("p",null,"You can create partitions in clusters to send your work to differently configured sets of worker nodes. Partitions are especially useful if you\u2019re working on a project that needs more or fewer nodes for specific tasks (for example, if you were running a simulation model and only a small dataset required twice the amount of GPU power to render properly)."),(0,n.kt)("admonition",{title:"Note",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"You must have at least one partition in your cluster.")),(0,n.kt)("p",null,"If you click ",(0,n.kt)("strong",{parentName:"p"},"+ Add Partition"),", a list of new settings will expand. Typically, a partition will have the configuration options outlined below."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_8_feb23.png",src:o(7986).Z,width:"2087",height:"942"})),(0,n.kt)("h4",{id:"name"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Name")),(0,n.kt)("p",null,"Use this box to name your partition. Be sure to use a unique name for each partition you create. Your partition should never be named ",(0,n.kt)("inlineCode",{parentName:"p"},"default"),"."),(0,n.kt)("h4",{id:"instance-type"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Instance Type")),(0,n.kt)("p",null,"Use this dropdown menu to select the configuration of the partition. These options work in the same way that the controller instance types do."),(0,n.kt)("h4",{id:"max-node-count"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Max Node Count")),(0,n.kt)("p",null,"Use this field to enter the max number of nodes in a partition."),(0,n.kt)("h4",{id:"default"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Default")),(0,n.kt)("p",null,"Use this toggle button to specify whether a partition is the default location for running jobs. For more information on running jobs on specific partitions, see ",(0,n.kt)("a",{parentName:"p",href:"https://docs.parallel.works/interacting-with-clusters/submitting-jobs"},(0,n.kt)("strong",{parentName:"a"},"Submitting Jobs")),"."),(0,n.kt)("admonition",{title:"Default Partition",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"This feature is important if you create multiple partitions. If you only create one partition, it will automatically be set to ",(0,n.kt)("strong",{parentName:"p"},"Default")," and cannot be changed, as shown in the screenshot above.")),(0,n.kt)("h4",{id:"enable-spot"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Enable Spot")),(0,n.kt)("p",null,"Use this toggle button to specify whether a partition is a spot instance. Spot instances can be cost effective because they make use of resources that are already available but currently unused."),(0,n.kt)("p",null,"However, spot instances can be disrupted because another user can take over that available resource at any time. For this reason, we recommend using spot instances at your own risk."),(0,n.kt)("h4",{id:"elastic-image"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Elastic Image")),(0,n.kt)("p",null,"Use this dropdown menu to select the operating system image for the partition. We recommend using the latest version."),(0,n.kt)("h4",{id:"zone-1"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Zone")),(0,n.kt)("p",null,"Use this dropdown menu to select the zone within your selected region."),(0,n.kt)("p",null,"You can configure your partition to run in a different zone than your controller node. Selecting different zones on multiple partitions increases the chance provisioned resources will be available from the cloud provider. There is a performance penalty if compute nodes need to communicate across zones."),(0,n.kt)("h2",{id:"csp-specific-settings"},"CSP-Specific Settings"),(0,n.kt)("p",null,"Each cloud service provider (CSP) builds and configures their resources differently. Clusters on the PW platform have settings that correspond to each CSP\u2019s model of cloud services. The CSP-specific parameters are outlined below."),(0,n.kt)("p",null,"Please note that these CSP-specific settings will also appear as options inside the partition settings on clusters."),(0,n.kt)("h3",{id:"aws"},"AWS"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_9_feb23.png",src:o(838).Z,width:"2244",height:"1029"})),(0,n.kt)("h4",{id:"efa"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"EFA")),(0,n.kt)("p",null,"Use this toggle button to enable Elastic Fabric Adapter (EFA), which improves inter-instance network performance. EFA is useful if you need to scale HPC or machine-learning applications to thousands of CPUs or GPUs."),(0,n.kt)("p",null,"Please note that EFA is not supported on all instance types."),(0,n.kt)("p",null,"For more information and a list of supported instance types, see ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/efa.html#efa-amis"},"AWS\u2019s documentation on EFA"),"."),(0,n.kt)("h3",{id:"google"},"Google"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_10_feb23.png",src:o(7321).Z,width:"2136",height:"1202"})),(0,n.kt)("h4",{id:"gvnic"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"GVNIC")),(0,n.kt)("p",null,"Use this toggle button to enable Google Virtual Network Interface Card (gVNIC), which supports higher network bandwidths from 50\u2013100 Gbps."),(0,n.kt)("p",null,"Please note that gVNIC is not supported on all instance types."),(0,n.kt)("p",null,"For more information and a list of supported instance types, see ",(0,n.kt)("a",{parentName:"p",href:"https://cloud.google.com/compute/docs/networking/using-gvnic#limitations"},"Google\u2019s documentation on gVNIC"),"."),(0,n.kt)("h4",{id:"tier_1"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"TIER_1")),(0,n.kt)("p",null,"Use this toggle button to enable Tier_1, which increases maximum egress bandwidth (upload speed) to 50\u2013100 Gps, depending on the size of the instance. If Tier_1 is off, the egress bandwidth will range from 10\u201332 Gbps."),(0,n.kt)("p",null,"Please note that Tier-1 is only supported if gVNIC is also active. If you try to start Tier-1 by itself, the PW platform will display the error message ",(0,n.kt)("em",{parentName:"p"},"Tier_1 is only supported if gVNIC is on.")),(0,n.kt)("p",null,"For more information, see ",(0,n.kt)("a",{parentName:"p",href:"https://cloud.google.com/compute/docs/networking/configure-vm-with-high-bandwidth-configuration#limitations"},"Google\u2019s documentation on Tier_1"),"."),(0,n.kt)("h4",{id:"migrate-on-maintenance"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Migrate On Maintenance")),(0,n.kt)("p",null,"This toggle button enables live migration whenever the virtual machine\u2019s host undergoes maintenance, meaning that Google will migrate the virtual machine to another host without any downtime."),(0,n.kt)("p",null,"Please note that GPU and spot instances cannot be live migrated. When supported, we recommend turning this feature on."),(0,n.kt)("p",null,"For more information, see ",(0,n.kt)("a",{parentName:"p",href:"https://cloud.google.com/compute/docs/instances/live-migration-process#limitations"},"Google\u2019s documentation on live migration"),"."),(0,n.kt)("h3",{id:"azure"},"Azure"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_11_feb23.png",src:o(2388).Z,width:"2244",height:"1110"})),(0,n.kt)("h4",{id:"export-filesystem"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Export Filesystem")),(0,n.kt)("p",null,"Use this field to enter the name of a network file system (NFS), which is an existing  system on an external device that\u2019s available for read and/or write access on your cluster."),(0,n.kt)("p",null,"If you want to set up an NFS, please contact us or your PW platform administrator."),(0,n.kt)("h4",{id:"nfs-size"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"NFS Size")),(0,n.kt)("p",null,"Use this field to enter the size of your NFS."),(0,n.kt)("p",null,"Please note that the values for ",(0,n.kt)("strong",{parentName:"p"},"NFS Size")," and ",(0,n.kt)("strong",{parentName:"p"},"Image Disk Size")," must be the same."),(0,n.kt)("h4",{id:"enable-accelerated-networking"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Enable Accelerated Networking")),(0,n.kt)("p",null,"Use this toggle button to enable accelerated networking, which improves networking performance for large workloads on multiple cloud clusters."),(0,n.kt)("p",null,"For more information, see ",(0,n.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/virtual-network/accelerated-networking-overview#supported-vm-instances"},"Azure\u2019s documentation on accelerated networking"),"."),(0,n.kt)("h2",{id:"existing-cluster-settings"},"Existing Cluster Settings"),(0,n.kt)("p",null,"Typically when you create an existing cluster, you\u2019ll be connecting to an on-premise cluster associated with your organization. The settings that are specific to this type of cluster are outlined below. If you\u2019re unsure what to choose for these options, contact your organization\u2019s PW platform administrator."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_14_feb23.png",src:o(6289).Z,width:"2130",height:"1458"})),(0,n.kt)("h4",{id:"username"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Username")),(0,n.kt)("p",null,"Use this field to enter the username assigned to you for this cluster."),(0,n.kt)("admonition",{title:"Username substitition",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"On existing clusters, you can enter ",(0,n.kt)("inlineCode",{parentName:"p"},"__USER__")," into any box and the PW platform will automatically substitute your username for that field. For example, if your username is ",(0,n.kt)("inlineCode",{parentName:"p"},"jdoe"),", the PW platform will automatically substitute ",(0,n.kt)("inlineCode",{parentName:"p"},"__USER__")," for ",(0,n.kt)("inlineCode",{parentName:"p"},"jdoe")," in the ",(0,n.kt)("strong",{parentName:"p"},"Working Directory")," field.")),(0,n.kt)("h4",{id:"cluster-login-node"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Cluster Login Node")),(0,n.kt)("p",null,"Use this field to enter the IP address or host name of the cluster."),(0,n.kt)("h4",{id:"working-directory"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Working Directory")),(0,n.kt)("p",null,"Use this field to enter the directory you\u2019ll be accessing while completing work on this cluster. By default, this field is set to ",(0,n.kt)("inlineCode",{parentName:"p"},"/home/<slurmusername>"),"."),(0,n.kt)("h4",{id:"max-workers"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Max Workers")),(0,n.kt)("p",null,"Use this field to enter the maximum number of compute nodes you need to complete your work."),(0,n.kt)("h4",{id:"internal-ipnetwork-name-optional"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Internal IP/Network Name (optional)")),(0,n.kt)("p",null,"Use this field to specify the internal IP address or network name that the compute nodes use to communicate with the controller node(s)."),(0,n.kt)("p",null,"You only have to use this feature if your organization has configured the cluster\u2019s compute nodes to send information to an IP address other than the controller\u2019s default IP address. You can run the command ",(0,n.kt)("inlineCode",{parentName:"p"},"ifconfig")," on a cluster after logging in to the controller to see all of the available IP addresses."),(0,n.kt)("h4",{id:"scheduler-type"},(0,n.kt)(r.Z,{color:"#ff5800",mdxType:"Highlight"},"Scheduler Type")),(0,n.kt)("p",null,"Use this dropdown menu to select the type of job scheduler the cluster uses. Currently, the ",(0,n.kt)("strong",{parentName:"p"},"Existing Cluster")," resource type supports Slurm and PBS."),(0,n.kt)("h2",{id:"default-configuration"},"Default Configuration"),(0,n.kt)("p",null,"If you\u2019re simply testing resources or if your organization has not provided specific configuration settings for your project, we recommend using the default configuration settings because they allow resources to run most projects with optimal performance."),(0,n.kt)("p",null,"To set or reset a resource to the default pool configuration, navigate to the ",(0,n.kt)("strong",{parentName:"p"},"Resources")," tab and click the name of the resource you want to edit. The configuration page will open. Click the ",(0,n.kt)("strong",{parentName:"p"},"Restore Configuration")," button."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_12_feb23.png",src:o(8191).Z,width:"2454",height:"1098"})),(0,n.kt)("p",null,"After you click ",(0,n.kt)("strong",{parentName:"p"},"Restore Configuration"),", a dialog box will appear with the message ",(0,n.kt)("em",{parentName:"p"},"Restore configuration to default values?")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"configuration_13_feb23.png",src:o(2579).Z,width:"1492",height:"1052"})),(0,n.kt)("p",null,"From the dropdown menu in the dialog box, click the configuration labeled ",(0,n.kt)("strong",{parentName:"p"},"Benchmark"),". Click ",(0,n.kt)("strong",{parentName:"p"},"Restore.")," Click ",(0,n.kt)("strong",{parentName:"p"},"Save Resource"),"."),(0,n.kt)("admonition",{title:"Existing Clusters",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Existing clusters do not have a ",(0,n.kt)("strong",{parentName:"p"},"Restore Configuration")," button.")),(0,n.kt)("admonition",{title:"Extra Lustre Expense",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"When you use the default configuration settings, the cluster will automatically be equipped with a Lustre file system. Lustre is powerful, but generally increases costs significantly on Google and Azure clusters. Please feel free to turn Lustre off if you don\u2019t need it, particularly if you\u2019re transferring small files or simply testing a resource.")))}h.isMDXComponent=!0},5389:function(e,t){t.Z="data:image/svg+xml;base64,PHN2ZyBzdHJva2U9ImN1cnJlbnRDb2xvciIgZmlsbD0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjAiIHZpZXdCb3g9IjAgMCAxNiAxNiIgaGVpZ2h0PSIuODVlbSIgd2lkdGg9IjFlbSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS40MDUgMS4wNWMtLjQxMy0xLjQtMi4zOTctMS40LTIuODEgMGwtLjEuMzRhMS40NjQgMS40NjQgMCAwIDEtMi4xMDUuODcybC0uMzEtLjE3Yy0xLjI4My0uNjk4LTIuNjg2LjcwNS0xLjk4NyAxLjk4N2wuMTY5LjMxMWMuNDQ2LjgyLjAyMyAxLjg0MS0uODcyIDIuMTA1bC0uMzQuMWMtMS40LjQxMy0xLjQgMi4zOTcgMCAyLjgxbC4zNC4xYTEuNDY0IDEuNDY0IDAgMCAxIC44NzIgMi4xMDVsLS4xNy4zMWMtLjY5OCAxLjI4My43MDUgMi42ODYgMS45ODcgMS45ODdsLjMxMS0uMTY5YTEuNDY0IDEuNDY0IDAgMCAxIDIuMTA1Ljg3MmwuMS4zNGMuNDEzIDEuNCAyLjM5NyAxLjQgMi44MSAwbC4xLS4zNGExLjQ2NCAxLjQ2NCAwIDAgMSAyLjEwNS0uODcybC4zMS4xN2MxLjI4My42OTggMi42ODYtLjcwNSAxLjk4Ny0xLjk4N2wtLjE2OS0uMzExYTEuNDY0IDEuNDY0IDAgMCAxIC44NzItMi4xMDVsLjM0LS4xYzEuNC0uNDEzIDEuNC0yLjM5NyAwLTIuODFsLS4zNC0uMWExLjQ2NCAxLjQ2NCAwIDAgMS0uODcyLTIuMTA1bC4xNy0uMzFjLjY5OC0xLjI4My0uNzA1LTIuNjg2LTEuOTg3LTEuOTg3bC0uMzExLjE2OWExLjQ2NCAxLjQ2NCAwIDAgMS0yLjEwNS0uODcybC0uMS0uMzR6TTggMTAuOTNhMi45MjkgMi45MjkgMCAxIDEgMC01Ljg2IDIuOTI5IDIuOTI5IDAgMCAxIDAgNS44NTh6Ij48L3BhdGg+PC9zdmc+"},4797:function(e,t){t.Z="data:image/svg+xml;base64,PHN2ZyBzdHJva2U9IiNGRkZGRkYiIGZpbGw9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMCIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9Ii44NWVtIiB3aWR0aD0iMWVtIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik04IDQuNzU0YTMuMjQ2IDMuMjQ2IDAgMSAwIDAgNi40OTIgMy4yNDYgMy4yNDYgMCAwIDAgMC02LjQ5MnpNNS43NTQgOGEyLjI0NiAyLjI0NiAwIDEgMSA0LjQ5MiAwIDIuMjQ2IDIuMjQ2IDAgMCAxLTQuNDkyIDB6Ij48L3BhdGg+PHBhdGggZD0iTTkuNzk2IDEuMzQzYy0uNTI3LTEuNzktMy4wNjUtMS43OS0zLjU5MiAwbC0uMDk0LjMxOWEuODczLjg3MyAwIDAgMS0xLjI1NS41MmwtLjI5Mi0uMTZjLTEuNjQtLjg5Mi0zLjQzMy45MDItMi41NCAyLjU0MWwuMTU5LjI5MmEuODczLjg3MyAwIDAgMS0uNTIgMS4yNTVsLS4zMTkuMDk0Yy0xLjc5LjUyNy0xLjc5IDMuMDY1IDAgMy41OTJsLjMxOS4wOTRhLjg3My44NzMgMCAwIDEgLjUyIDEuMjU1bC0uMTYuMjkyYy0uODkyIDEuNjQuOTAxIDMuNDM0IDIuNTQxIDIuNTRsLjI5Mi0uMTU5YS44NzMuODczIDAgMCAxIDEuMjU1LjUybC4wOTQuMzE5Yy41MjcgMS43OSAzLjA2NSAxLjc5IDMuNTkyIDBsLjA5NC0uMzE5YS44NzMuODczIDAgMCAxIDEuMjU1LS41MmwuMjkyLjE2YzEuNjQuODkzIDMuNDM0LS45MDIgMi41NC0yLjU0MWwtLjE1OS0uMjkyYS44NzMuODczIDAgMCAxIC41Mi0xLjI1NWwuMzE5LS4wOTRjMS43OS0uNTI3IDEuNzktMy4wNjUgMC0zLjU5MmwtLjMxOS0uMDk0YS44NzMuODczIDAgMCAxLS41Mi0xLjI1NWwuMTYtLjI5MmMuODkzLTEuNjQtLjkwMi0zLjQzMy0yLjU0MS0yLjU0bC0uMjkyLjE1OWEuODczLjg3MyAwIDAgMS0xLjI1NS0uNTJsLS4wOTQtLjMxOXptLTIuNjMzLjI4M2MuMjQ2LS44MzUgMS40MjgtLjgzNSAxLjY3NCAwbC4wOTQuMzE5YTEuODczIDEuODczIDAgMCAwIDIuNjkzIDEuMTE1bC4yOTEtLjE2Yy43NjQtLjQxNSAxLjYuNDIgMS4xODQgMS4xODVsLS4xNTkuMjkyYTEuODczIDEuODczIDAgMCAwIDEuMTE2IDIuNjkybC4zMTguMDk0Yy44MzUuMjQ2LjgzNSAxLjQyOCAwIDEuNjc0bC0uMzE5LjA5NGExLjg3MyAxLjg3MyAwIDAgMC0xLjExNSAyLjY5M2wuMTYuMjkxYy40MTUuNzY0LS40MiAxLjYtMS4xODUgMS4xODRsLS4yOTEtLjE1OWExLjg3MyAxLjg3MyAwIDAgMC0yLjY5MyAxLjExNmwtLjA5NC4zMThjLS4yNDYuODM1LTEuNDI4LjgzNS0xLjY3NCAwbC0uMDk0LS4zMTlhMS44NzMgMS44NzMgMCAwIDAtMi42OTItMS4xMTVsLS4yOTIuMTZjLS43NjQuNDE1LTEuNi0uNDItMS4xODQtMS4xODVsLjE1OS0uMjkxQTEuODczIDEuODczIDAgMCAwIDEuOTQ1IDguOTNsLS4zMTktLjA5NGMtLjgzNS0uMjQ2LS44MzUtMS40MjggMC0xLjY3NGwuMzE5LS4wOTRBMS44NzMgMS44NzMgMCAwIDAgMy4wNiA0LjM3N2wtLjE2LS4yOTJjLS40MTUtLjc2NC40Mi0xLjYgMS4xODUtMS4xODRsLjI5Mi4xNTlhMS44NzMgMS44NzMgMCAwIDAgMi42OTItMS4xMTVsLjA5NC0uMzE5eiI+PC9wYXRoPjwvc3ZnPg=="},7321:function(e,t,o){t.Z=o.p+"assets/images/configuration_10_feb23-f31942f839900da9a52df3bcb509a0f1.png"},2388:function(e,t,o){t.Z=o.p+"assets/images/configuration_11_feb23-9842d4a70466715f62d2ab1895fecc64.png"},8191:function(e,t,o){t.Z=o.p+"assets/images/configuration_12_feb23-c2acad0f5ddfc04d50bc4425ee766c56.png"},2579:function(e,t,o){t.Z=o.p+"assets/images/configuration_13_feb23-c9f4ecfc6d744c92c86b547a8d0aa68b.png"},6289:function(e,t,o){t.Z=o.p+"assets/images/configuration_14_feb23-e823c1a5a8dfdb90171f8544911db8dd.png"},7785:function(e,t,o){t.Z=o.p+"assets/images/configuration_1_feb23-abc4ced1c3ef9da814e39c7c70f427a8.png"},6944:function(e,t,o){t.Z=o.p+"assets/images/configuration_2_feb23-a6ef8eb285f041cbfe448a23751b2932.png"},7267:function(e,t,o){t.Z=o.p+"assets/images/configuration_3_feb23-d1ce0d3f7e8a39225a333ceab9744553.png"},7513:function(e,t,o){t.Z=o.p+"assets/images/configuration_4_feb23-a22c09144f37c642e4bad47a5b995154.png"},1303:function(e,t,o){t.Z=o.p+"assets/images/configuration_5_feb23-adc61724751e2712d0af92047399cfe3.png"},8520:function(e,t,o){t.Z=o.p+"assets/images/configuration_6_feb23-9f7805bf98fd6285f318daa8944c9dd7.png"},6305:function(e,t,o){t.Z=o.p+"assets/images/configuration_7_feb23-3873494a15fe4ec1cf419ee973607147.png"},7986:function(e,t,o){t.Z=o.p+"assets/images/configuration_8_feb23-37b8a7536b99f1a726c2197cfb7cfc8a.png"},838:function(e,t,o){t.Z=o.p+"assets/images/configuration_9_feb23-ae3785388d03af2674f476cfee67ca31.png"}}]);