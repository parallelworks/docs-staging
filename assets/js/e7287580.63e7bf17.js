"use strict";(self.webpackChunkpworks_docs=self.webpackChunkpworks_docs||[]).push([[1726],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),f=o,h=d["".concat(l,".").concat(f)]||d[f]||p[f]||a;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6653:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],s={},l="OpenFOAM Single Case Runner",u={unversionedId:"tutorials/openfoam_on_parallel_works/openfoam_single_case_runner",id:"tutorials/openfoam_on_parallel_works/openfoam_single_case_runner",title:"OpenFOAM Single Case Runner",description:"The OpenFOAM Case Runner workflow is a simple way to run your large OpenFOAM studies in the cloud.\\",source:"@site/docs/tutorials/02_openfoam_on_parallel_works/02_openfoam_single_case_runner.md",sourceDirName:"tutorials/02_openfoam_on_parallel_works",slug:"/tutorials/openfoam_on_parallel_works/openfoam_single_case_runner",permalink:"/tutorials/openfoam_on_parallel_works/openfoam_single_case_runner",editUrl:"https://github.com/parallelworks/docs/tree/master/docs/tutorials/02_openfoam_on_parallel_works/02_openfoam_single_case_runner.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"docsSidebar",previous:{title:"OpenFOAM Parameter Sweep Demo",permalink:"/tutorials/openfoam_on_parallel_works/openfoam_parameter_sweep_demo"},next:{title:"Multi Case OpenFOAM Runner",permalink:"/tutorials/openfoam_on_parallel_works/multi_case_openfoam_runner"}},c=[{value:"Configure Resources",id:"configure-resources",children:[],level:2},{value:"Create a New Workspace",id:"create-a-new-workspace",children:[],level:2},{value:"Upload Input Files",id:"upload-input-files",children:[],level:2},{value:"Configure Workflow",id:"configure-workflow",children:[],level:2},{value:"Launch Workflow",id:"launch-workflow",children:[],level:2},{value:"Monitor your Study",id:"monitor-your-study",children:[],level:2},{value:"Visualize Results",id:"visualize-results",children:[],level:2}],p={toc:c};function d(e){var t=e.components,s=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"openfoam-single-case-runner"},"OpenFOAM Single Case Runner"),(0,a.kt)("p",null,"The OpenFOAM Case Runner workflow is a simple way to run your large OpenFOAM studies in the cloud.\\\nLaunch your study in just a few easy steps, detailed below."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(6329).Z,width:"507",height:"401"})),(0,a.kt)("h2",{id:"configure-resources"},"Configure Resources"),(0,a.kt)("p",null,"Configure your resources by either editing or adding a new resource to meet the computing requirements of your OpenFOAM study.Edit your number of desired workers per instance.\\\n",(0,a.kt)("em",{parentName:"p"},"Tip: For optimal performance, set workers/instance to 1. This will use one worker to run your study across all available CPUs on your selected instance.")),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(6945).Z,width:"1064",height:"586"})),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"After editing your resources, power \u201con\u201d your desired resource and select the maximum number of active workers you would like to run your study on. Note: The number of workers will increase in increments corresponding to the number of CPUs on your selected instance.")),(0,a.kt)("h2",{id:"create-a-new-workspace"},"Create a New Workspace"),(0,a.kt)("p",null,"Create a new workspace to manage your working files for the study. Select \u201cView All Workspaces\u201d and in the All Workspaces page, select \u201cCreate New\u201d in the top right corner of the screen. Name your workspace and then select \u201cDone.\u201d"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(1927).Z,width:"432",height:"342"})),(0,a.kt)("h2",{id:"upload-input-files"},"Upload Input Files"),(0,a.kt)("p",null,"The Case Runner workflow requires 2 standard input files:\\\n(1) A tar file of the standard case input files (system, constant, 0.org etc.)\\\n(2) An OpenFOAM decomposeParDict file to guide the decomposition of your mesh\\\n",(0,a.kt)("em",{parentName:"p"},"Upload these files to the platform by selecting Upload Data or clicking \u201cload your own data\u201d in the empty Workspace box.")),(0,a.kt)("h2",{id:"configure-workflow"},"Configure Workflow"),(0,a.kt)("p",null,"Customize the exact commands that you would like OpenFOAM to run by editing the runOpenfoam.sh script in the Workflow/Single_Case_Runner editing interface\\"),(0,a.kt)("p",null,"In the Workflows Interface, select the Single Case Runner workflow."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(6329).Z,width:"507",height:"401"})),(0,a.kt)("p",null,'Select the "Run Files" tab in the edit interface to access the IDE and make your edits. The original template script is displayed here:'),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(2971).Z,width:"1400",height:"804"})),(0,a.kt)("p",null,"You can edit the commands to customize the workflow to run your job. A simple example can be seen below. The platform is flexible and can accomodate any preferred OpenFOAM run codes."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(3210).Z,width:"1400",height:"796"})),(0,a.kt)("p",null,"Once you have completed any edits, save your workflow and return to the COMPUTE screen."),(0,a.kt)("h2",{id:"launch-workflow"},"Launch Workflow"),(0,a.kt)("p",null,"Select the OpenFOAM Runner tile to access the workflow execution interface\\"),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(8919).Z,width:"1120",height:"479"})),(0,a.kt)("p",null,"Using the drop downs in the workflow execution interface, select the input files for each required input.\\\nIndicate the number of subdomains desired, which should match the numberOfSubdomains value in your decomposeParDict configuration file, as well as the product of the n values under the heirarchical configuration highlighted below."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(8851).Z,width:"456",height:"419"})),(0,a.kt)("p",null,"Once all your input configurations are set, select \u201cExecute\u201d to launch your workflow."),(0,a.kt)("h2",{id:"monitor-your-study"},"Monitor your Study"),(0,a.kt)("p",null,"Upon execution of the run, a workflow monitor will appear to display the status of your job. There are several job monitors, detailed below."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Progress")," Track progress of your study at the job execution level."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(2496).Z,width:"479",height:"262"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Data Browser")," See status for each job stage in your workflow."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(6209).Z,width:"476",height:"262"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Run Tail")," See standard run tail output for your study."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(9097).Z,width:"472",height:"265"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Run Directory")," View std.out and other execution-related output files."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(2830).Z,width:"476",height:"265"})),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Access these run details at any time during the execution of your job by clicking the Run Monitor above the Resource Monitor on the COMPUTE screen.")),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(6460).Z,width:"694",height:"276"})),(0,a.kt)("h2",{id:"visualize-results"},"Visualize Results"),(0,a.kt)("p",null,"Upon completion of the run, your results will display as complete (in green) in the workspace under which it was launched.\\\nThe OpenFOAM case runner will result in a packaged tar file complete with all results files. Select the eye icon to download the file.\\\n\\\nVisualize results as you traditionally view results of your OpenFOAM studies."),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(1622).Z,width:"827",height:"701"})))}d.isMDXComponent=!0},1927:function(e,t,n){t.Z=n.p+"assets/images/History_Blank-3ed25a3fa3b4750443eea8565792ad1d.png"},6209:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_MonitorDataBrowser-8382ce259d1fa08c7302926a96e37e8a.png"},2496:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_MonitorProgress-a02aab42297bfeb7f5876d9f03b43a07.png"},2830:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_MonitorRunDirectory-21f15133e185ddd09d98da0e6c50015a.png"},9097:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_MonitorRunTail-e6cba1494f84f8a5527957f2cbee1291.png"},6460:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_RunMonitor-d22ebc2b6792fdd204a3b282323a90b6.png"},6329:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_RunnerIcon-e2d1117a1952a401380c96d3a734efd0.png"},8919:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_RunnerInputs-5fde19e624aaab65cba4f95ae9d08acb.png"},6945:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_RunnerResources-4141b4e117fcdf0e71a3fcdff7cab92e.png"},1622:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_RunnerResults-ec310390fffdb593c1852e3a9498cac6.png"},8851:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_RunnerTemp2-d45feffade452dd551a06c0a68cc0bed.png"},3210:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_Runner_editscript-17fad5db41664a9b196d8fbd109790b5.png"},2971:function(e,t,n){t.Z=n.p+"assets/images/OpenFOAM_Runner_originalscript-5a4cced11a1d016d9f84ef297fbcc22d.png"}}]);